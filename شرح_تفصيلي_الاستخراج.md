# ๐ ุดุฑุญ ุชูุตููู: ููู ูุนูู ุงุณุชุฎุฑุงุฌ ุงูุจุซ ูู ููุณุจูู

## ๐ฏ ุงูููุฑุฉ ุงูุฃุณุงุณูุฉ

ุนูุฏูุง ุชูุชุญ ููุณุจูู ูู ุงููุชุตูุญุ ุงููุชุตูุญ ูุฑุณู **ูุนูููุงุช ูููุชู** (ุงูููููุฒ) ูุน ูู ุทูุจ.
ุนุดุงู ูุณุชุฎุฑุฌ ุงูุจุซุ ูุงุฒู ูุชุธุงูุฑ ุฅููุง ูุชุตูุญ ููุฑุณู ููุณ ุงูููููุฒ!

---

## ๐ช ุงูุฌุฒุก 1: ููู ููู ุงูููููุฒ

### ูุง ูู ููู ุงูููููุฒุ

ููู ูุตู ุจุณูุท ููู ูุนูููุงุช ุฌูุณุชู ุนูู ููุณุจูู:

```
# ุชูุณูู ุงูููููุฒ (Netscape format):
ุงูุฏูููู    ุญูุงูุฉ   ูุณุงุฑ   HTTPS   ุงูุชูุงุก      ุงุณู        ูููุฉ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
.facebook.com  TRUE    /     TRUE  1794700280  c_user   61579368421631
.facebook.com  TRUE    /     TRUE  1794700280  xs       3%3Aa1VY5...
```

### ุงูููููุฒ ุงููููุฉ:

| ุงููููู | ุงููุธููุฉ | ูุซุงู |
|--------|----------|------|
| `c_user` | ูุนุฑู ุญุณุงุจู ุงููุฑูุฏ | 61579368421631 |
| `xs` | ุชูููุน ุงูุฌูุณุฉ (Session Signature) | 3%3Aa1VY5aaPq... |
| `fr` | ุชููู ุงููุตุงุฏูุฉ (Authentication Token) | 05I8q7A5Fj4rv... |
| `datr` | ุจุตูุฉ ุงูุฌูุงุฒ (Device Fingerprint) | LsOkaA2077b21... |

**ูู ูุฐู ูุนุงู = "ุฅุซุจุงุช ุดุฎุตูุฉ"** โ

---

## ๐ง ุงูุฌุฒุก 2: ููู ูุณุชุฎุฏู yt-dlp ุงูููููุฒุ

### ุงูุฃูุฑ ุงูุจุณูุท:
```bash
yt-dlp --cookies facebook_cookies.txt --get-url "ุฑุงุจุท_ุงูุจุซ"
```

### ูุงุฐุง ูุญุฏุซ ุฎุทูุฉ ุจุฎุทูุฉุ

#### **ุงููุฑุญูุฉ 1: ูุฑุงุกุฉ ุงูููููุฒ**
```python
# yt-dlp ููุชุญ ููู facebook_cookies.txt
# ููุฑุฃ ูู ุณุทุฑ ููุญูู ุงูููููุฒ ูุตูุบุฉ HTTP
cookies = {
    'c_user': '61579368421631',
    'xs': '3%3Aa1VY5aaPqCDpCA%3A2%3A...',
    'fr': '05I8q7A5Fj4rv6qcJ.AWec4z...',
    # ... ุจุงูู ุงูููููุฒ
}
```

#### **ุงููุฑุญูุฉ 2: ุฅุฑุณุงู ุทูุจ HTTP ูุน ุงูููููุฒ**
```http
GET /share/v/1Z2tW5hrLs/ HTTP/1.1
Host: www.facebook.com
Cookie: c_user=61579368421631; xs=3%3Aa1VY5aaPq...; fr=05I8q7A5F...
User-Agent: Mozilla/5.0 (compatible; yt-dlp)
```

**ููุง ุงูุณุญุฑ!** ๐ฉ
- ููุณุจูู ูุดูู ุงูููููุฒ โ ูุนุฑู ุฅูู "ุฃูุช"
- ูุชุญูู ูู `c_user` โ "ุขูุ ูุฐุง ุงููุณุชุฎุฏู 61579368421631"
- ูุชุญูู ูู `xs` ู `fr` โ "ุงูุฌูุณุฉ ุตุงูุญุฉ โ"
- ูุนุทูู ุงูุตูุญุฉ **ูุฃูู ูุณุฌู ุฏุฎูู**

#### **ุงููุฑุญูุฉ 3: ุชุญููู HTML**
```javascript
// yt-dlp ููุฑุฃ ููุฏ HTML ููุจุญุซ ุนู:
<video src="...">                    // ุนูุงูุงุช ุงูููุฏูู
<script>var videoData = {...}</script>  // ุจูุงูุงุช JSON
playbackUrl: "https://...m3u8"       // ุฑูุงุจุท ุงูุจุซ
dashManifest: "https://...mpd"       // ูููุงุช DASH
```

#### **ุงููุฑุญูุฉ 4: ุงุณุชุฎุฑุงุฌ ุงูุฑูุงุจุท**
```python
# yt-dlp ูุณุชุฎุฑุฌ ุฌููุน ุงูุฑูุงุจุท:
formats = [
    {
        'url': 'https://.../video.m3u8',  # ุจุซ ูุจุงุดุฑ
        'format': 'hls',
        'quality': 'hd'
    },
    {
        'url': 'https://.../video.mp4',   # ููุฏูู ูุณุฌู
        'format': 'mp4',
        'quality': 'sd'
    }
]

# ูุฎุชุงุฑ ุงูุฃูุถู ููุทุจุนู
print(best_format['url'])
```

---

## ๐ฌ ุงูุฌุฒุก 3: ุงููุฑู ุจูู ุงูุจุซ ุงููุจุงุดุฑ ูุงูููุฏูู ุงููุณุฌู

### ุงูุจุซ ุงููุจุงุดุฑ (Live Stream):
```
ุฑุงุจุท M3U8:
https://.../master.m3u8?token=...

ุงูุฎุตุงุฆุต:
โ ููุชูู ุจุฑูู .m3u8
โ ูุญุชูู ุนูู "token" ูู ุงูุฑุงุจุท
โ ูุนูู ููุท ุฃุซูุงุก ุงูุจุซ
โ ููุชูู ุจุนุฏ ุงูุชูุงุก ุงูุจุซ
```

### ุงูููุฏูู ุงููุณุฌู (Recorded Video):
```
ุฑุงุจุท MP4:
https://.../AQNtTWWYcb35...mp4

ุงูุฎุตุงุฆุต:
โ ููุชูู ุจุฑูู .mp4
โ ูุจูู ูุชุงุญ ุญุชู ุจุนุฏ ุงูุชูุงุก ุงูุจุซ
โ ูููู ุชุญูููู ุจุงููุงูู
โ ุฌูุฏุฉ ุซุงุจุชุฉ
```

---

## ๐งช ุงูุฌุฒุก 4: ูุง ุญุตู ูู ุชุฌุฑุจุชูุงุ

### ุงููุชูุฌุฉ:
```bash
yt-dlp --cookies facebook_cookies.txt --get-url "..."

# ุงููุชูุฌุฉ:
https://scontent-bom5-1.xx.fbcdn.net/.../...mp4  โ MP4 (ููุฏูู ูุณุฌู)
```

### ุงูุชุญููู:

| ุงูุณุคุงู | ุงูุฌูุงุจ |
|---------|---------|
| **ูู ุงูููููุฒ ุงุดุชุบูุชุ** | โ ูุนู! ุญุตููุง ุนูู ุงูุฑุงุจุท |
| **ูู ุงูุจุซ ูุจุงุดุฑ ุงูุขูุ** | โ ูุงุ ุงูุจุซ ุงูุชูู |
| **ูุง ุงููู ุญุตููุง ุนูููุ** | ููุฏูู ูุณุฌู ููุจุซ ุงูุณุงุจู |

**ุงูุณุจุจ:**
- ุงูุจุซ ูุงู ูุจุงุดุฑุ ูุงูุชูู
- ููุณุจูู ุญูุธู ูููุฏูู ุนุงุฏู
- ุงูุขู ูู ููุฏูู MP4 ูููุณ ุจุซ M3U8

---

## โ ุงูุฌุฒุก 5: ููู ุชุญุตู ุนูู ุงูุจุซ ุงููุจุงุดุฑุ

### ุงูุดุฑูุท:
1. **ุงูุจุซ ูููู ูุจุงุดุฑ ุงูุขู ๐ด**
2. **ุชุณุชุฎุฑุฌ ุงูุฑุงุจุท ุฃุซูุงุก ุงูุจุซ**
3. **ุชุณุชุฎุฏู ููุณ ุงูุฃูุฑ**

### ุงูุฃูุฑ ุงูุตุญูุญ:
```bash
# ุฃุซูุงุก ุงูุจุซ ุงููุจุงุดุฑ ููุท!
yt-dlp --cookies facebook_cookies.txt --get-url "ุงูุฑุงุจุท"

# ุฅุฐุง ูุฌุญุ ุฑุงุญ ุชุญุตู ุนูู:
https://.../master.m3u8?token=...  โ ูุฐุง ุงููู ูุจูู!
```

### ููู ุชุนุฑู ุฅูู ุจุซ ูุจุงุดุฑุ
```bash
# ุดูู ุนูุงูุฉ ๐ด ุนูู ููุณุจูู
# ุฃู ุงุณุชุฎุฏู ูุฐุง ุงูุฃูุฑ:
yt-dlp --cookies facebook_cookies.txt -F "ุงูุฑุงุจุท"

# ุฅุฐุง ุดูุช:
ID  FORMAT  RESOLUTION  NOTE
โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
123 m3u8    1920x1080   DASH video  โ ุจุซ ูุจุงุดุฑ!
456 mp4     1280x720    recorded    โ ููุฏูู ูุณุฌู
```

---

## ๐ ุงูุฌุฒุก 6: ููู ูุณุชุฎุฏู main.sh ุงูุฑุงุจุทุ

ุจุนุฏ ูุง ุชุญุตู ุนูู ุฑุงุจุท M3U8ุ ุงูุณูุฑูุจุช `main.sh` ูุณุชุฎุฏูู ูุน FFmpeg:

```bash
# ูู config.sh:
SOURCE="https://.../master.m3u8?token=..."

# ูู main.sh:
ffmpeg \
  -i "$SOURCE" \                          # ุงููุตุฏุฑ (ุงูุจุซ ูู ููุณุจูู)
  -c:v libx264 \                          # ุชุฑููุฒ ุงูููุฏูู
  -b:v 5000k \                            # ุฌูุฏุฉ 5 ููุฌุงุจุช
  -c:a aac \                              # ุชุฑููุฒ ุงูุตูุช
  -f flv \                                # ุตูุบุฉ FLV ููุจุซ
  "rtmps://live-api-s.facebook.com:443/rtmp/${FB_STREAM_KEY}"  # ูุฌูุฉ ุงูุจุซ
```

### ูุงุฐุง ูุญุฏุซุ
```
[ุจุซ ูู ููุณุจูู] โ [FFmpeg] โ [ุฅุนุงุฏุฉ ุชุฑููุฒ] โ [ุจุซ ุนูู ููุณุจูู ูุฑุฉ ุฃุฎุฑู]
    M3U8              ูุนุงูุฌุฉ        H.264+AAC         RTMP
```

---

## ๐ ููุฎุต ุงููุธุงู ุงููุงูู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 1. ุงููุณุชุฎุฏู ูุตุฏุฑ ุงูููููุฒ ูู ุงููุชุตูุญ               โ
โ    โ facebook_cookies.txt                          โ
โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ
              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 2. yt-dlp ูุณุชุฎุฏู ุงูููููุฒ ูููุตูู ูููุณุจูู           โ
โ    โ yt-dlp --cookies facebook_cookies.txt         โ
โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ
              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 3. ููุณุจูู ูุนุทู ุงูุฑุงุจุท ุงููุจุงุดุฑ                     โ
โ    โ https://.../master.m3u8                       โ
โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ
              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 4. ูุญูุธ ุงูุฑุงุจุท ูู config.sh                       โ
โ    โ SOURCE="https://.../master.m3u8"              โ
โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ
              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 5. main.sh ูุณุชุฎุฏู FFmpeg ูุฅุนุงุฏุฉ ุงูุจุซ               โ
โ    โ ffmpeg -i $SOURCE ... rtmps://facebook.com    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูุฎูุงุตุฉ

### ูุง ุชุนูููุงู:
1. **ุงูููููุฒ = ุฅุซุจุงุช ุงููููุฉ** ุนูู ุงูููุงูุน
2. **yt-dlp ูุชุธุงูุฑ ุฅูู ูุชุตูุญ** ุจุงุณุชุฎุฏุงู ุงูููููุฒ
3. **M3U8 = ุจุซ ูุจุงุดุฑ** | **MP4 = ููุฏูู ูุณุฌู**
4. **ูุงุฒู ุงูุจุซ ูููู ุดุบุงู** ุนุดุงู ุชุญุตู ุนูู M3U8

### ุงูุฎุทูุงุช ุงูุนูููุฉ:
```bash
# 1. ุตุฏูุฑ ุงูููููุฒ
ุฅุถุงูุฉ ุงููุชุตูุญ โ Export โ facebook_cookies.txt

# 2. ุงุณุชุฎุฑุฌ ุงูุฑุงุจุท (ุฃุซูุงุก ุงูุจุซ!)
./extract_live_now.sh

# 3. ุญุฏูุซ config.sh
SOURCE="ุงูุฑุงุจุท_ุงููุณุชุฎุฑุฌ"

# 4. ุดุบู ุงูุจุซ
./control.sh start
```

**ุงูุขู ูููุช ูู ุดูุก! ๐**
